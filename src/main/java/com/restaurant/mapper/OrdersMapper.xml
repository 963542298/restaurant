<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.restaurant.mapper.OrdersMapper" >

  <resultMap id="BaseResultMap" type="com.restaurant.entity.Orders" >
    <id column="orderId" property="orderid"/>
    <result column="orderCode" property="ordercode"/>
    <result column="orderTime" property="ordertime"/>
    <result column="orderState" property="orderstate"/>
    <collection property="detailsList" ofType="Details">
      <id property="detailsid" column="detailsid"/>
      <result property="num" column="num"/>
      <association property="food" javaType="Food">
        <id property="foodid" column="foodid"/>
        <result property="foodname" column="foodname"/>
        <result property="foodstate" column="foodstate"/>
        <association property="type" javaType="Type">
          <id property="typeid" column="typeid"/>
          <result property="typename" column="typename"/>
        </association>
      </association>
    </collection>
  </resultMap>


  <select id="queryAllOrders" resultType="Orders">
    SELECT o.orderid,ordercode,ordertime,orderstate
    FROM orders o
  </select>

</mapper>